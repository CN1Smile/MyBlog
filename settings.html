<!DOCTYPE html>
<html lang="zh-CN" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç«™ç‚¹è®¾ç½® - ZHITONG'S BLOG</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/editor.css">
    <style>
        .settings-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .settings-header {
            margin-bottom: 2rem;
        }
        
        .settings-header h1 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }
        
        .settings-header p {
            color: var(--text-secondary);
        }
        
        .settings-section {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .settings-section h2 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .field-group {
            margin-bottom: 1rem;
        }
        
        .field-group label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.4rem;
        }
        
        .field-group input,
        .field-group textarea {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.95rem;
        }
        
        .field-group input:focus,
        .field-group textarea:focus {
            outline: none;
            border-color: var(--accent-purple);
        }
        
        .field-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .field-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .field-hint {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }
        
        .tags-input-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            padding: 0.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            min-height: 44px;
        }
        
        .tag-item {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.5rem;
            background: var(--accent-purple);
            border-radius: 4px;
            font-size: 0.85rem;
        }
        
        .tag-item button {
            background: none;
            border: none;
            color: inherit;
            cursor: pointer;
            padding: 0;
            font-size: 1rem;
            line-height: 1;
        }
        
        .tags-input-container input {
            flex: 1;
            min-width: 120px;
            border: none;
            background: transparent;
            padding: 0.25rem;
        }
        
        .tags-input-container input:focus {
            outline: none;
        }
        
        /* ç³»åˆ—ç¼–è¾‘å™¨ */
        .series-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .series-item {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 0.5rem;
            align-items: center;
        }
        
        .series-item input {
            padding: 0.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 0.9rem;
        }
        
        .series-item button {
            padding: 0.5rem;
            background: var(--danger-bg, rgba(255, 100, 100, 0.1));
            border: 1px solid var(--danger-color, #ff6b6b);
            border-radius: 6px;
            color: var(--danger-color, #ff6b6b);
            cursor: pointer;
        }
        
        .add-series-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px dashed var(--border-color);
            border-radius: 6px;
            color: var(--text-secondary);
            cursor: pointer;
            text-align: center;
            margin-top: 0.5rem;
        }
        
        .add-series-btn:hover {
            border-color: var(--accent-purple);
            color: var(--accent-purple);
        }
        
        /* ä¿å­˜æ  */
        .settings-actions {
            position: sticky;
            bottom: 1rem;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            padding: 1rem;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
        }
        
        .settings-actions .btn-primary {
            padding: 0.75rem 2rem;
        }
        
        .settings-actions .btn-secondary {
            padding: 0.75rem 1.5rem;
        }
        
        /* é¢„è§ˆå¡ç‰‡ */
        .preview-card {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .preview-card h4 {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        
        .preview-card .preview-content {
            font-size: 0.95rem;
        }
        
        /* Loading */
        .settings-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4rem;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <!-- å¯†ç éªŒè¯é®ç½©å±‚ -->
    <div class="auth-overlay" id="authOverlay">
        <div class="auth-dialog">
            <div class="auth-icon">ğŸ”</div>
            <h2>è®¿é—®éªŒè¯</h2>
            <p>è¯·è¾“å…¥å¯†ç ä»¥è®¿é—®è®¾ç½®é¡µé¢</p>
            <form id="authForm">
                <input type="password" id="authPassword" placeholder="è¾“å…¥å¯†ç ..." autocomplete="off" autofocus>
                <p class="auth-error" id="authError"></p>
                <button type="submit" class="btn-primary">éªŒè¯</button>
            </form>
            <a href="index.html" class="auth-back">â† è¿”å›é¦–é¡µ</a>
        </div>
    </div>

    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header class="top-nav">
        <div class="nav-left">
            <a href="index.html" class="logo">
                <span class="logo-icon">âš™ï¸</span>
                <span class="logo-text">ç«™ç‚¹è®¾ç½®</span>
            </a>
        </div>
        <div class="nav-right">
            <a href="index.html" class="nav-link">é¦–é¡µ</a>
            <a href="posts.html" class="nav-link">æ–‡ç« </a>
            <a href="editor.html" class="nav-link">æ’°å†™</a>
        </div>
    </header>

    <!-- è®¾ç½®ä¸»å®¹å™¨ -->
    <main class="settings-container" id="settingsContainer">
        <div class="settings-loading" id="loadingState">
            <p>åŠ è½½é…ç½®ä¸­...</p>
        </div>
        
        <div id="settingsContent" style="display: none;">
            <div class="settings-header">
                <h1>âš™ï¸ ç«™ç‚¹è®¾ç½®</h1>
                <p>è‡ªå®šä¹‰ä½ çš„åšå®¢é¦–é¡µå†…å®¹ï¼Œä¿®æ”¹åç‚¹å‡»ä¿å­˜å³å¯ç”Ÿæ•ˆ</p>
            </div>

            <!-- åŸºæœ¬ä¿¡æ¯ -->
            <section class="settings-section">
                <h2>ğŸ  åŸºæœ¬ä¿¡æ¯</h2>
                <div class="field-row">
                    <div class="field-group">
                        <label for="siteTitle">ç½‘ç«™æ ‡é¢˜</label>
                        <input type="text" id="siteTitle" placeholder="å¼ å¿—é€š - æ¸¸æˆå¼€å‘å·¥ç¨‹å¸ˆ">
                    </div>
                    <div class="field-group">
                        <label for="logoIcon">Logo å›¾æ ‡</label>
                        <input type="text" id="logoIcon" placeholder="ğŸ®">
                        <p class="field-hint">å¯ä»¥ä½¿ç”¨ Emoji æˆ–æ–‡å­—</p>
                    </div>
                </div>
                <div class="field-row">
                    <div class="field-group">
                        <label for="logoText">Logo æ–‡å­—</label>
                        <input type="text" id="logoText" placeholder="ZHITONG'S BLOG">
                    </div>
                    <div class="field-group">
                        <label for="siteLabel">é¡¶éƒ¨æ ‡ç­¾</label>
                        <input type="text" id="siteLabel" placeholder="GAME DEV BLOG Â· 2026">
                    </div>
                </div>
            </section>

            <!-- Hero åŒºåŸŸ -->
            <section class="settings-section">
                <h2>âœ¨ Hero åŒºåŸŸ</h2>
                <div class="field-group">
                    <label for="heroTitle">ä¸»æ ‡é¢˜</label>
                    <input type="text" id="heroTitle" placeholder="è®°å½•æ¸¸æˆå¼€å‘çš„æ¯ä¸€æ¬¡æ¢ç´¢">
                    <p class="field-hint">ä½¿ç”¨ &lt;span class="gradient-text"&gt;æ–‡å­—&lt;/span&gt; æ·»åŠ æ¸å˜æ•ˆæœ</p>
                </div>
                <div class="field-group">
                    <label for="heroDescription">æè¿°æ–‡å­—</label>
                    <textarea id="heroDescription" rows="3" placeholder="è¿™é‡Œæ˜¯å¼ å¿—é€šçš„æ¸¸æˆå¼€å‘ç¬”è®°..."></textarea>
                </div>
                <div class="field-group">
                    <label>å†™ä½œä¸»é¢˜æ ‡ç­¾</label>
                    <div class="tags-input-container" id="topicsContainer">
                        <input type="text" id="topicsInput" placeholder="è¾“å…¥åæŒ‰ Enter æ·»åŠ ...">
                    </div>
                </div>
                <div class="field-row">
                    <div class="field-group">
                        <label for="updateFrequency">æ›´æ–°é¢‘ç‡</label>
                        <input type="text" id="updateFrequency" placeholder="æŒç»­æ›´æ–°ä¸­">
                    </div>
                    <div class="field-group">
                        <label for="primaryButton">ä¸»æŒ‰é’®æ–‡å­—</label>
                        <input type="text" id="primaryButton" placeholder="å¼€å§‹é˜…è¯» â†—">
                    </div>
                    <div class="field-group">
                        <label for="secondaryButton">æ¬¡æŒ‰é’®æ–‡å­—</label>
                        <input type="text" id="secondaryButton" placeholder="æŸ¥çœ‹é¡¹ç›®ä½œå“">
                    </div>
                </div>
            </section>

            <!-- ä½œè€…ä¿¡æ¯ -->
            <section class="settings-section">
                <h2>ğŸ‘¤ ä½œè€…ä¿¡æ¯</h2>
                <div class="field-row">
                    <div class="field-group">
                        <label for="authorName">ä½œè€…åç§°</label>
                        <input type="text" id="authorName" placeholder="å¼ å¿—é€š">
                    </div>
                    <div class="field-group">
                        <label for="authorAvatar">å¤´åƒæ–‡å­—</label>
                        <input type="text" id="authorAvatar" placeholder="å¼ ">
                        <p class="field-hint">æ˜¾ç¤ºåœ¨å¤´åƒä¸­çš„æ–‡å­—ï¼ˆé€šå¸¸æ˜¯å§“æ°ï¼‰</p>
                    </div>
                </div>
            </section>

            <!-- æ–‡ç« åˆ†ç±» -->
            <section class="settings-section">
                <h2>ğŸ“‚ æ–‡ç« åˆ†ç±»</h2>
                <div class="field-group">
                    <label>åˆ†ç±»æ ‡ç­¾</label>
                    <div class="tags-input-container" id="categoriesContainer">
                        <input type="text" id="categoriesInput" placeholder="è¾“å…¥åæŒ‰ Enter æ·»åŠ ...">
                    </div>
                </div>
            </section>

            <!-- ç³»åˆ—ä¸“é¢˜ -->
            <section class="settings-section">
                <h2>ğŸ“š è¿›è¡Œä¸­çš„ç³»åˆ—</h2>
                <div class="series-list" id="seriesList">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
                <button type="button" class="add-series-btn" id="addSeriesBtn">+ æ·»åŠ ç³»åˆ—</button>
            </section>

            <!-- å…³äºåšå®¢ -->
            <section class="settings-section">
                <h2>ğŸ“ å…³äºåšå®¢</h2>
                <div class="field-group">
                    <label for="aboutText">ç®€ä»‹æ–‡å­—</label>
                    <textarea id="aboutText" rows="3" placeholder="è¿™é‡Œè®°å½•æˆ‘åœ¨æ¸¸æˆå¼€å‘è·¯ä¸Šçš„å­¦ä¹ ç¬”è®°..."></textarea>
                </div>
            </section>

            <!-- æœ€æ–°ç¬”è®°å¡ç‰‡ -->
            <section class="settings-section">
                <h2>ğŸ“Œ ä¾§è¾¹æ ç¬”è®°å¡ç‰‡</h2>
                <div class="field-group">
                    <label for="noteTitle">ç¬”è®°æ ‡é¢˜</label>
                    <input type="text" id="noteTitle" placeholder="Unity URP æ¸²æŸ“ç®¡çº¿ä¼˜åŒ–å®è·µ">
                </div>
                <div class="field-group">
                    <label for="noteDescription">ç¬”è®°æè¿°</label>
                    <textarea id="noteDescription" rows="2" placeholder="å¦‚ä½•åœ¨ç§»åŠ¨ç«¯å®ç°é«˜æ•ˆçš„åå¤„ç†æ•ˆæœ..."></textarea>
                </div>
                <div class="field-group">
                    <label for="noteFootnote">åº•éƒ¨æ–‡å­—</label>
                    <input type="text" id="noteFootnote" placeholder="æ·±å…¥æ¸¸æˆå¼•æ“çš„æ¸²æŸ“ä¸–ç•Œ">
                </div>
            </section>

            <!-- ä¿å­˜æ“ä½œ -->
            <div class="settings-actions">
                <button type="button" class="btn-secondary" id="btnReset">ğŸ”„ é‡ç½®ä¸ºé»˜è®¤</button>
                <button type="button" class="btn-secondary" id="btnGithubSettings">âš™ï¸ GitHub é…ç½®</button>
                <button type="button" class="btn-primary" id="btnSave">ğŸ’¾ ä¿å­˜é…ç½®</button>
            </div>
        </div>
    </main>

    <!-- GitHub é…ç½®å¼¹çª— -->
    <div class="github-overlay hidden" id="githubOverlay">
        <div class="github-dialog">
            <div class="github-header">
                <h3>âš™ï¸ GitHub é…ç½®</h3>
                <button type="button" class="github-close" id="btnCloseGithub">Ã—</button>
            </div>
            <form id="githubForm">
                <div class="github-field">
                    <label for="githubToken">Personal Access Token</label>
                    <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxx" autocomplete="off">
                    <small>åœ¨ <a href="https://github.com/settings/tokens?type=beta" target="_blank">GitHub Settings</a> åˆ›å»º Token</small>
                </div>
                <div class="github-row">
                    <div class="github-field">
                        <label for="githubOwner">ä»“åº“æ‰€æœ‰è€…</label>
                        <input type="text" id="githubOwner" placeholder="username" autocomplete="off">
                    </div>
                    <div class="github-field">
                        <label for="githubRepo">ä»“åº“åç§°</label>
                        <input type="text" id="githubRepo" placeholder="my-blog" autocomplete="off">
                    </div>
                </div>
                <div class="github-field">
                    <label for="githubBranch">åˆ†æ”¯</label>
                    <input type="text" id="githubBranch" placeholder="main" autocomplete="off">
                </div>
                <div class="github-actions">
                    <button type="submit" class="btn-primary">ğŸ’¾ ä¿å­˜é…ç½®</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast æç¤º -->
    <div class="toast" id="toast"></div>

    <script src="js/github-storage.js"></script>
    <script src="js/site-config.js"></script>
    <script src="js/settings.js"></script>
</body>
</html>
